<link rel="stylesheet" type="text/css" href="/static/plugs/lay-module/xm-select/static/formSeletv4.css"/>
<div class="layuimini-container">
    <form id="app-form" class="layui-form layuimini-form">
        <!-- <div class="layui-form-item">
            <label class="layui-form-label required">站点</label>
            <div class="layui-input-block">
                <select name="site_id" lay-verify="required" data-select="{:url('website.site/getcategory')}"
                data-fields="id,name" data-value="{$row.site_id|default=''}"></select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label required">站点类型</label>
            <div class="layui-input-block">
                <select name="site_category_id" lay-verify="required" data-select="{:url('website.category/getcategory')}"
                data-fields="id,name" data-value="{$row.site_category_id|default=''}"></select>
            </div>
        </div> -->
        <div class="layui-form-item">
            <label class="layui-form-label required">渠道号</label>
            <div class="layui-input-block">
                <input type="text" name="channelCode" class="layui-input" lay-verify="required" placeholder="请输入渠道号,不能重复" value="" step="1" />
            </div>
        </div>
        
        <div class="layui-form-item">
            <label class="layui-form-label">x内容自动展示</label>
            <div class="layui-input-block">
                <select name="time_range" xm-select-search="" xm-select-skin="normal" xm-select="time_range">
                {foreach $hours as $hour}
                    <option value="{$hour}">{$hour}</option>
                {/foreach}
                </select>
                <!--<input type="text" name="time_range" id="time_range" readonly="true" class="layui-input" lay-verify="" placeholder="请选则自动关闭时间,不选则表示不会自动开启" value="{$row.time_range ?? ''}" lay-reqtext="">-->
                <tip>x内容自动开启时间,配置后，在时间范围内会自动展示x内容；不设置，表示默认不展示</tip>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label required">每日保底</label>
            <div class="layui-input-block">
                <input type="number" name="mininum" class="layui-input" lay-verify="required" placeholder="请输入每日保底,不扣量则输入0" value="0" step="1" />
            <tip>每日达到保底数值才开始扣量</tip>
            </div>
        </div>
        
        <div class="layui-form-item">
            <label class="layui-form-label required">扣量比例</label>
            <div class="layui-input-block">
                <input type="number" name="ratio" class="layui-input" lay-verify="required" placeholder="请输入扣量比例,不扣则输入0" value="0" step="1" />
            <tip>每日达到保底数值后按此比例随机扣除</tip>
            </div>
        </div>
        
        <div class="layui-form-item">
            <label class="layui-form-label required">调整系数</label>
            <div class="layui-input-block">
                <input type="number" name="coefficient" class="layui-input" lay-verify="required" placeholder="请输入调整系数" value="0.62" step="0.01" />
            <tip>开启自动调整生效</tip>
            </div>
        </div>
        
        <div class="layui-form-item">
            <label class="layui-form-label required">CPA单价</label>
            <div class="layui-input-block">
                <input type="number" name="price" class="layui-input" lay-verify="required" placeholder="请输入CPA单价" value="3" step="0.1" />
            <tip>渠道CPA单价</tip>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label required">百度统计</label>
            <div class="layui-input-block">
                <input type="text" name="statistics_code" class="layui-input" lay-verify="required" placeholder="请输入百度统计"  />
            <tip>百度统计</tip>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label ">测试约炮</label>
            <div class="layui-input-block">
                <input type="text" name="try_yp" class="layui-input" lay-verify="" placeholder="请输入测试约炮地址"   />
            <tip>测试约炮</tip>
            </div>
        </div>
        
        <div class="layui-form-item">
            <label class="layui-form-label ">测试首页推荐</label>
            <div class="layui-input-block">
                <input type="text" name="try_home" class="layui-input" lay-verify="" placeholder="请输入测试首页推荐"   />
            <tip>测试首页推荐</tip>
            </div>
        </div>
        
        
        <div class="layui-form-item">
            <label class="layui-form-label ">测试直播</label>
            <div class="layui-input-block">
                <input type="text" name="try_zb" class="layui-input" lay-verify="" placeholder="请输入测试直播地址"  />
            <tip>测试直播</tip>
            </div>
        </div>

        <div class="layui-form-item layui-form-text">
            <label class="layui-form-label">备注信息</label>
            <div class="layui-input-block">
                <textarea name="remark" class="layui-textarea" placeholder="请输入备注信息"></textarea>
            </div>
        </div>

        <div class="hr-line"></div>
        <div class="layui-form-item text-center">
            <button type="submit" class="layui-btn layui-btn-normal layui-btn-sm" lay-submit>确认</button>
            <button type="reset" class="layui-btn layui-btn-primary layui-btn-sm">重置</button>
        </div>

    </form>
</div>
<script type="text/javascript">
    layui.use(['form', 'layer','laydate'], function () {
        // 操作对象
        var form = layui.form
                , layer = layui.layer
                ,laydate = layui.laydate
                , $ = layui.jquery;

       
       laydate.render({
            elem: '#time_range',
            range: '~',
            type: 'time',
            //format: 'HH:mm:00' //可任意组合
            done: function(value, date, endDate){
                if(date.hours > endDate.hours){
                    $('#time_range').val("");
                    parent.layer.msg("起始时间不能大于截止时间");
                    throw '起始时间不能大于截止时间';
                } else if (date.hours == endDate.hours && date.minutes > endDate.minutes) {
                    $('#time_range').val("");
                    parent.layer.msg("起始时间不能大于截止时间");
                    throw '起始时间不能大于截止时间';
                }
            }
        });

    });

</script>